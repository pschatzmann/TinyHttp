<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tinyhttp: tinyhttp::HttpStreamedMultiOutput Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tinyhttp
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>tinyhttp</b></li><li class="navelem"><a class="el" href="classtinyhttp_1_1_http_streamed_multi_output.html">HttpStreamedMultiOutput</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classtinyhttp_1_1_http_streamed_multi_output-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tinyhttp::HttpStreamedMultiOutput Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic <a class="el" href="classtinyhttp_1_1_http_streamed_multi_output.html" title="Generic HttpStreamedMultiOutput Class which handles multicast streaming. We can optionally define som...">HttpStreamedMultiOutput</a> Class which handles multicast streaming. We can optionally define some default (e.g. html) content that will be written at the beginning and at the end of the streaming session to the client.  
 <a href="classtinyhttp_1_1_http_streamed_multi_output.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_http_streamed_multi_output_8h_source.html">HttpStreamedMultiOutput.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tinyhttp::HttpStreamedMultiOutput:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classtinyhttp_1_1_http_streamed_multi_output.png" usemap="#tinyhttp::HttpStreamedMultiOutput_map" alt=""/>
  <map id="tinyhttp::HttpStreamedMultiOutput_map" name="tinyhttp::HttpStreamedMultiOutput_map">
<area href="classtinyhttp_1_1_http_streamed_output.html" title="Abstract class for handling streamed output." alt="tinyhttp::HttpStreamedOutput" shape="rect" coords="0,0,197,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4d01ebb310714e645d2d04025a9772d"><td class="memItemLeft" align="right" valign="top"><a id="ae4d01ebb310714e645d2d04025a9772d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>HttpStreamedMultiOutput</b> (const char *mime, const char *startHtml=nullptr, const char *endHtml=nullptr, int maxHistoryLength=0)</td></tr>
<tr class="separator:ae4d01ebb310714e645d2d04025a9772d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8df95099ebb027e0ea98fe20afe3a1e"><td class="memItemLeft" align="right" valign="top"><a id="ac8df95099ebb027e0ea98fe20afe3a1e"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtinyhttp_1_1_http_streamed_multi_output.html#ac8df95099ebb027e0ea98fe20afe3a1e">availableForWrite</a> ()</td></tr>
<tr class="memdesc:ac8df95099ebb027e0ea98fe20afe3a1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not accept any writes if we are not connected. <br /></td></tr>
<tr class="separator:ac8df95099ebb027e0ea98fe20afe3a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c86c771e9a49d51db87476c3c9be651"><td class="memItemLeft" align="right" valign="top"><a id="a8c86c771e9a49d51db87476c3c9be651"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>close</b> ()</td></tr>
<tr class="separator:a8c86c771e9a49d51db87476c3c9be651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e045a14a3c2452bbe8d7f57744c2f6"><td class="memItemLeft" align="right" valign="top"><a id="ab2e045a14a3c2452bbe8d7f57744c2f6"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>doLoop</b> ()</td></tr>
<tr class="separator:ab2e045a14a3c2452bbe8d7f57744c2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd3b92f99fe4d9db1d7e29b949a5030"><td class="memItemLeft" align="right" valign="top"><a id="a9fd3b92f99fe4d9db1d7e29b949a5030"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>isOpen</b> ()</td></tr>
<tr class="separator:a9fd3b92f99fe4d9db1d7e29b949a5030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b1f54fd47b2dbecc74f991823c6bc0"><td class="memItemLeft" align="right" valign="top"><a id="a47b1f54fd47b2dbecc74f991823c6bc0"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>isValid</b> (<a class="el" href="classtinyhttp_1_1_wi_fi_client.html">WiFiClient</a> &amp;client)</td></tr>
<tr class="separator:a47b1f54fd47b2dbecc74f991823c6bc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a920618550eb918a964b11196abffb0"><td class="memItemLeft" align="right" valign="top"><a id="a6a920618550eb918a964b11196abffb0"></a>
virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><b>mime</b> ()</td></tr>
<tr class="separator:a6a920618550eb918a964b11196abffb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad11ffe69bed928e6cdd9e337bc4609c2"><td class="memItemLeft" align="right" valign="top"><a id="ad11ffe69bed928e6cdd9e337bc4609c2"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>open</b> (<a class="el" href="classtinyhttp_1_1_wi_fi_client.html">WiFiClient</a> &amp;client)</td></tr>
<tr class="separator:ad11ffe69bed928e6cdd9e337bc4609c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0292b2aa0ed9de9ce5f0639fa718a9d"><td class="memItemLeft" align="right" valign="top"><a id="af0292b2aa0ed9de9ce5f0639fa718a9d"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>print</b> (const char *str)</td></tr>
<tr class="separator:af0292b2aa0ed9de9ce5f0639fa718a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979c3421b9c784acf68b48faddc5d8bf"><td class="memItemLeft" align="right" valign="top"><a id="a979c3421b9c784acf68b48faddc5d8bf"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>println</b> (const char *str)</td></tr>
<tr class="separator:a979c3421b9c784acf68b48faddc5d8bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371ca94639a61b072f9d8d33b5f1a166"><td class="memItemLeft" align="right" valign="top"><a id="a371ca94639a61b072f9d8d33b5f1a166"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> (uint8_t *content, int len)</td></tr>
<tr class="separator:a371ca94639a61b072f9d8d33b5f1a166"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae587d217e85483f9472ab76437982e07"><td class="memItemLeft" align="right" valign="top"><a id="ae587d217e85483f9472ab76437982e07"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtinyhttp_1_1_http_streamed_multi_output.html#ae587d217e85483f9472ab76437982e07">addHistory</a> (const char *line, bool delimiter, int len)</td></tr>
<tr class="memdesc:ae587d217e85483f9472ab76437982e07"><td class="mdescLeft">&#160;</td><td class="mdescRight">adds the line to the history - removest oldest lines <br /></td></tr>
<tr class="separator:ae587d217e85483f9472ab76437982e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e34137ce9a782aa8677ae65a3e2aa1"><td class="memItemLeft" align="right" valign="top"><a id="ac0e34137ce9a782aa8677ae65a3e2aa1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>cleanup</b> ()</td></tr>
<tr class="separator:ac0e34137ce9a782aa8677ae65a3e2aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fe8332843b328a575bcf086c1ca8761"><td class="memItemLeft" align="right" valign="top"><a id="a1fe8332843b328a575bcf086c1ca8761"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtinyhttp_1_1_http_streamed_multi_output.html#a1fe8332843b328a575bcf086c1ca8761">onClose</a> (<a class="el" href="classtinyhttp_1_1_wi_fi_client.html">WiFiClient</a> &amp;client)</td></tr>
<tr class="memdesc:a1fe8332843b328a575bcf086c1ca8761"><td class="mdescLeft">&#160;</td><td class="mdescRight">content that is written when the request is opened <br /></td></tr>
<tr class="separator:a1fe8332843b328a575bcf086c1ca8761"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6affbf1699efb0750419ab8a85e40d69"><td class="memItemLeft" align="right" valign="top"><a id="a6affbf1699efb0750419ab8a85e40d69"></a>
<a class="el" href="classtinyhttp_1_1_list.html">List</a>&lt; <a class="el" href="classtinyhttp_1_1_wi_fi_client.html">WiFiClient</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>clients</b></td></tr>
<tr class="separator:a6affbf1699efb0750419ab8a85e40d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e8ed75c1c50a1ceff50b3a4bdf4d27"><td class="memItemLeft" align="right" valign="top"><a id="a65e8ed75c1c50a1ceff50b3a4bdf4d27"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> = nullptr</td></tr>
<tr class="separator:a65e8ed75c1c50a1ceff50b3a4bdf4d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a561690c564db6ab8fedcb77ee13d45df"><td class="memItemLeft" align="right" valign="top"><a id="a561690c564db6ab8fedcb77ee13d45df"></a>
<a class="el" href="classtinyhttp_1_1_str.html">Str</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>history</b> = nullptr</td></tr>
<tr class="separator:a561690c564db6ab8fedcb77ee13d45df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fde27a465edf0c35a01d6c91d376a69"><td class="memItemLeft" align="right" valign="top"><a id="a6fde27a465edf0c35a01d6c91d376a69"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>id_value</b> = 0</td></tr>
<tr class="separator:a6fde27a465edf0c35a01d6c91d376a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d7f07690501a539a05914bb76fc6480"><td class="memItemLeft" align="right" valign="top"><a id="a0d7f07690501a539a05914bb76fc6480"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>max_history_length</b></td></tr>
<tr class="separator:a0d7f07690501a539a05914bb76fc6480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1121eb4c864b7740b5747ed96c5c61da"><td class="memItemLeft" align="right" valign="top"><a id="a1121eb4c864b7740b5747ed96c5c61da"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>mime_type</b> = nullptr</td></tr>
<tr class="separator:a1121eb4c864b7740b5747ed96c5c61da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6c89bc814dcfbc9752fa267cc1b1d1"><td class="memItemLeft" align="right" valign="top"><a id="aef6c89bc814dcfbc9752fa267cc1b1d1"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>start</b> = nullptr</td></tr>
<tr class="separator:aef6c89bc814dcfbc9752fa267cc1b1d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0665fb2f408b5263451358f2cb163f"><td class="memItemLeft" align="right" valign="top"><a id="a3c0665fb2f408b5263451358f2cb163f"></a>
<a class="el" href="classtinyhttp_1_1_http_chunk_writer.html">HttpChunkWriter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>writer</b></td></tr>
<tr class="separator:a3c0665fb2f408b5263451358f2cb163f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic <a class="el" href="classtinyhttp_1_1_http_streamed_multi_output.html" title="Generic HttpStreamedMultiOutput Class which handles multicast streaming. We can optionally define som...">HttpStreamedMultiOutput</a> Class which handles multicast streaming. We can optionally define some default (e.g. html) content that will be written at the beginning and at the end of the streaming session to the client. </p>
<p>The output (write, print ...) functions are sending the same output to all open clients.</p>
<p>The id is used to identify the output stream so that we can potentially send different content to different clients.</p>
<p>We automatically manage all the clients which are open and clean up the closed clients to release the memory. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Server/<a class="el" href="_http_streamed_multi_output_8h_source.html">HttpStreamedMultiOutput.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
